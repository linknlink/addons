services:
  network_manager:
    build:
      context: ./common
      dockerfile: Dockerfile
    container_name: network_manager
    restart: unless-stopped
    network_mode: host
    privileged: true
    environment:
      # 基本配置
      - WIFI_SCAN_INTERVAL=30
      - AUTO_RECONNECT=true
      - DEFAULT_IP_METHOD=dhcp
      - LOG_LEVEL=info
    volumes:
      - /etc/NetworkManager:/etc/NetworkManager:ro
      - /var/lib/NetworkManager:/var/lib/NetworkManager
      # D-Bus socket，用于与宿主机的 NetworkManager 通信
      - /run/dbus:/run/dbus:ro
      - /var/run/dbus:/var/run/dbus:ro
